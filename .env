# IBKR Trading WebUI - Environment Configuration

# ========================================
# IBKR Configuration
# ========================================
IBKR_ACCOUNT_ID=DU1234567
IBKR_API_BASE_URL=https://127.0.0.1:5055/v1/api
IBKR_SSL_VERIFY=false

# ========================================
# Database (PostgreSQL)
# ========================================
DATABASE_URL="postgresql+psycopg2://postgres:postgres@postgres:5432/ibkr_trading"
NEON_DATABASE="postgresql://neondb_owner:npg_E0Vv5TaJSqZu@ep-restless-bush-adc0o6og-pooler.c-2.us-east-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require"
# ========================================
# Redis / Celery
# ========================================
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# ========================================
# MinIO Object Storage
# ========================================
MINIO_ENDPOINT=localhost:9000
MINIO_PUBLIC_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=trading-charts
MINIO_SECURE=false

# ========================================
# LLM / AI Configuration
# ========================================

# LLM Provider Selection: "openai", "gemini", or "ollama"
LLM_VISION_PROVIDER=openai

# OpenAI Configuration (if using OpenAI)
# Get your API key from: https://platform.openai.com/api-keys
# Models: gpt-4-vision-preview, gpt-4-turbo, gpt-4o
# OpenAI / LLM
OPENAI_API_KEY=sk-qXIk6S9HZQLrVixT1ITxBk0jYSyHAX9ird2giIoGAvO7maVs
OPENAI_API_BASE=https://turingai.plus/v1
OPENAI_MODEL=gpt-4.1-nano
LLM_VISION_MODEL=gpt-4.1-mini

# Google Gemini Configuration (FREE alternative!)
# Get your API key from: https://aistudio.google.com/app/apikey
# Models: gemini-2.0-flash-exp, gemini-pro-vision
# Gemini is FREE for up to 1500 requests/day
# GEMINI_API_KEY=your_gemini_key_here
# GEMINI_API_BASE=https://generativelanguage.googleapis.com/v1beta

# LLM Request Settings
LLM_VISION_MAX_TOKENS=4096
LLM_VISION_TEMPERATURE=0.1
LLM_VISION_TIMEOUT=60
AI_REQUEST_TIMEOUT=120

# LLM Feature Flags
LLM_CONSOLIDATE_TIMEFRAMES=true
LLM_RETRY_ATTEMPTS=3
LLM_RETRY_DELAY=2

# ========================================
# Application Settings
# ========================================
APP_NAME="IBKR Trading WebApp"
DEBUG=true
ENVIRONMENT=development
SECRET_KEY=change-this-secret-key-in-production

# ========================================
# Trading Settings
# ========================================
AUTO_TRADING_ENABLED=false
PAPER_TRADING_MODE=true
WORKFLOW_DELAY_SECONDS=60
DEFAULT_TIF=DAY
DEFAULT_ORDER_TYPE=LMT

# ========================================
# Risk Management
# ========================================
MIN_R_COEFFICIENT=1.0
MIN_PROFIT_MARGIN=0.05
RISK_PER_TRADE=0.01
MAX_PORTFOLIO_EXPOSURE=0.90
MAX_OPEN_POSITIONS=10
MAX_POSITION_SIZE=0.20

# ========================================
# Chart Configuration
# ========================================
CHART_WIDTH=1920
CHART_HEIGHT=1080
CHART_CACHE_TTL=3600
AIRFLOW_DATABASE_URL=postgresql+psycopg2://neondb_owner:npg_E0Vv5TaJSqZu@ep-restless-bush-adc0o6og-pooler.c-2.us-east-1.aws.neon.tech/airflow?sslmode=require
MLFLOW_DATABASE_URL=postgresql+psycopg2://neondb_owner:npg_E0Vv5TaJSqZu@ep-restless-bush-adc0o6og-pooler.c-2.us-east-1.aws.neon.tech/mlflow?sslmode=require
WEAVIATE_URL=ymmaij0gtk6gmxkzhfgdng.c0.asia-southeast1.gcp.weaviate.cloud
WEAVIATE_API_KEY=bElLT1d6Z0ZvZmxpYkszYl90TTJhdE1mdGdDb2hwVHBiSUdvdC83L3BYdk52SmduQ1JKZnNQNC9UZ01nPV92MjAw
NEWS_API_KEY=88f563be1a0a4ac586264037e05e13c4
IBKR_USER=hiuhiu250
IBKR_PASSWORD=qazwsX321
GEMINI_API_KEY=AIzaSyBmb-JkEkwVfiOoL8K4uUO4jEMWSfO0su4
GEMINI_MODEL=gemini-3-flash-preview